<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="modelbased">
<title>Transformations • modelbased</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.0/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.2/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.2/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.2/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Transformations">
<meta property="og:description" content="modelbased">
<meta property="og:image" content="https://easystats.github.io/modelbased/reference/figures/card.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@easystats4u">
<meta name="twitter:site" content="@easystats4u">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">modelbased</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">
    <span class="fa fa fa fa-file-code"></span>
     
    Reference
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/overview_of_vignettes.html">Overview of Vignettes</a>
    <a class="dropdown-item" href="../articles/visualisation_matrix.html">Data grids</a>
    <a class="dropdown-item" href="../articles/estimate_means.html">Marginal means</a>
    <a class="dropdown-item" href="../articles/estimate_contrasts.html">Contrast analysis</a>
    <a class="dropdown-item" href="../articles/estimate_slopes.html">Marginal effects and derivatives</a>
    <a class="dropdown-item" href="../articles/estimate_response.html">Use a model to make predictions</a>
    <a class="dropdown-item" href="../articles/describe_nonlinear.html">Describe non-linear curves</a>
    <a class="dropdown-item" href="../articles/derivatives.html">Interpret models using Effect Derivatives</a>
    <a class="dropdown-item" href="../articles/estimate_grouplevel.html">Estimate and re-use Random Effects</a>
    <a class="dropdown-item" href="../articles/modelisation_approach.html">The modelisation approach</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="fa fa fa fa-newspaper"></span>
     
    News
  </a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown--easystats" aria-label="easystats">
    <span class="fab fa fab fa-r-project"></span>
     
    easystats
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdown--easystats">
    <a class="external-link dropdown-item" href="https://easystats.github.io/bayestestR/">bayestestR</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/correlation/">correlation</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/datawizard/">datawizard</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/easystats/">easystats</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/effectsize/">effectsize</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/insight/">insight</a>
    <a class="dropdown-item" href="https://easystats.github.io/modelbased/">modelbased</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/performance/">performance</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/parameters/">parameters</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/report/">report</a>
    <a class="external-link dropdown-item" href="https://easystats.github.io/see/">see</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="http://twitter.com/easystats4u" aria-label="Twitter">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/easystats/modelbased/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Transformations</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/easystats/modelbased/blob/HEAD/vignettes/transformations.Rmd" class="external-link"><code>vignettes/transformations.Rmd</code></a></small>
      <div class="d-none name"><code>transformations.Rmd</code></div>
    </div>

    
    
<p>Although the <em>easystats</em> packages, such as
<strong>effectsize</strong> and <strong>modelbased</strong>, make it
easier to assess, investigate and interpret complex models with <a href="https://easystats.github.io/modelbased/articles/estimate_slopes.html">non-linear
relationships</a>. However, transforming variables can still be useful
in some instances.</p>
<p>In the following article, we will demonstrate and discuss some of the
possible and commonly used transformations that you can consider
applying to your variables. They can usually be grouped into two
categories: transformations that <strong>changes only the
scale</strong>, and transformation that <strong>changes also the
shape</strong>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/datawizard/" class="external-link">datawizard</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="scale-transformations">Scale Transformations<a class="anchor" aria-label="anchor" href="#scale-transformations"></a>
</h2>
<p><strong>Standardization</strong> (also known as
<strong>Z-scoring</strong>) refers to the centering and scaling of
variable so that it is expressed in terms of deviation from some
centrality index. Usually it is the <em>mean</em> and <em>SD</em> (where
0 corresponds to mean and the values represent deviations in SD from
it), but it could be other indices, such as the <em>median</em> and the
<em>MAD</em>. In R, it can be achieved via the <a href="https://easystats.github.io/datawizard/articles/standardize_data.html" class="external-link"><code>standardize()</code></a>
function in the <a href="https://github.com/easystats/datawizard" class="external-link"><strong>datawizard</strong></a>
package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">datawizard</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/datawizard/reference/standardize.html" class="external-link">standardize</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">42</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>&gt; [1] -0.43 -0.37 -0.55 -0.43  1.79
&gt; attr(,"center")
&gt; [1] 11
&gt; attr(,"scale")
&gt; [1] 17
&gt; attr(,"robust")
&gt; [1] FALSE</code></pre>
<p><strong>Normalization</strong> rescales the variable so that the
minimum and the maximum are 0 and 1. In R, it can be achieved via the
<code><a href="https://easystats.github.io/datawizard/reference/normalize.html" class="external-link">normalize()</a></code> function. However, note that it is a bit
<strong>of a misnomer</strong>, as it doesn’t actually
<strong>normalize</strong> the <em>distribution</em> (i.e., make “more
Gaussian”) of the data (as shown below). Instead, it makes the
<em>range</em> of the data within an expected range of [0, 1].</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">datawizard</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/datawizard/reference/normalize.html" class="external-link">normalize</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">42</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>&gt; [1] 0.050 0.075 0.000 0.050 1.000
&gt; attr(,"include_bounds")
&gt; [1] TRUE
&gt; attr(,"min_value")
&gt; [1] 2
&gt; attr(,"range_difference")
&gt; [1] 40</code></pre>
<p>Normalization is, in fact, a special case of
<strong>Rescaling</strong>. Any variable can be rescaled to a new range.
In R, it can be achieved via the <code>data_rescale()</code>
function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">datawizard</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/datawizard/reference/rescale.html" class="external-link">rescale</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">42</span><span class="op">)</span>, to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>&gt; [1] -0.90 -0.85 -1.00 -0.90  1.00
&gt; attr(,"min_value")
&gt; [1] 2
&gt; attr(,"range_difference")
&gt; [1] 40
&gt; attr(,"to_range")
&gt; [1] -1  1</code></pre>
<p>Importantly, these transformations change only the scale (i.e., the
“unit”); it does not impact the distribution of the variable. As such,
it does not either impact the relationship that it has with other
variables.</p>
<p>Let’s start by generating some random data and creating a convenience
function to check the distribution of one of the variable and its
relationship with another variable.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create dataset</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu">bayestestR</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/bayestestR/reference/distribution.html" class="external-link">distribution_normal</a></span><span class="op">(</span><span class="fl">500</span>, mean <span class="op">=</span> <span class="fl">30</span>, sd <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">500</span>, sd <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Write convenience function</span></span>
<span><span class="va">check_transformation</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">x</span> <span class="op">=</span> <span class="st">"x"</span>, <span class="va">color</span> <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu">bayestestR</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/bayestestR/reference/estimate_density.html" class="external-link">estimate_density</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="va">x</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_area</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">color</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Distribution of x"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">see</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/see/reference/theme_modern.html" class="external-link">theme_modern</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_.html" class="external-link">aes_string</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">color</span>, se <span class="op">=</span> <span class="cn">FALSE</span>, method <span class="op">=</span> <span class="st">"loess"</span>, formula <span class="op">=</span> <span class="st">"y ~ x"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Relationship with y"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">see</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/see/reference/theme_modern.html" class="external-link">theme_modern</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><strong>Before Transformation</strong>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<p><strong>After Transformation</strong>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_standardized</span> <span class="op">&lt;-</span> <span class="fu">datawizard</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/datawizard/reference/standardize.html" class="external-link">standardize</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="st">"x_standardized"</span>, color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">patchwork</span><span class="fu">::</span><span class="fu"><a href="https://patchwork.data-imaginist.com/reference/plot_annotation.html" class="external-link">plot_annotation</a></span><span class="op">(</span><span class="st">"After Standardization"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-8-1.png" width="100%"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_normalized</span> <span class="op">&lt;-</span> <span class="fu">datawizard</span><span class="fu">::</span><span class="fu"><a href="https://easystats.github.io/datawizard/reference/normalize.html" class="external-link">normalize</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="st">"x_normalized"</span>, color <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">patchwork</span><span class="fu">::</span><span class="fu"><a href="https://patchwork.data-imaginist.com/reference/plot_annotation.html" class="external-link">plot_annotation</a></span><span class="op">(</span><span class="st">"After Normalization"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-8-2.png" width="100%"></p>
<p>As you can see, although the unit of <code>x</code> has changed,
scale-transformation have no impact on the distribution of the variable
and on their relationship with other variables.</p>
<ul>
<li>
<strong>Pros</strong>:
<ul>
<li>Interpretation (standardized effect sizes)</li>
<li>Computation (some models can converge more more efficiently)</li>
</ul>
</li>
<li>
<strong>Cons</strong>:
<ul>
<li>Interpretation (when the variable values have meaning)</li>
<li>Reproducibility (values have different meaning depending on the
sample’s characteristics - only for transformations that depend on
properties of the variable like standardization)</li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="shape-transformation">Shape Transformation<a class="anchor" aria-label="anchor" href="#shape-transformation"></a>
</h2>
<p><a href="http://fmwww.bc.edu/repec/bocode/t/transint.html" class="external-link uri">http://fmwww.bc.edu/repec/bocode/t/transint.html</a></p>
<blockquote>
<p>“I see that this is a clever trick that works nicely. But how do I
know when this trick will work with some other data, or if another trick
is needed, or if no transformation is needed?”</p>
</blockquote>
<blockquote>
<p>“Transformations are needed because there is no guarantee that the
world works on the scales it happens to be measured on.”</p>
</blockquote>
<blockquote>
<p>“Transformations are most appropriate when they match a scientific
view of how a variable behaves.”</p>
</blockquote>
<p>Most of the traditional transformation work best (i.e., are more
easily explainable) with positively defined data. In the case where
variables also have negative values, it is fairly common practice to
shift the scale towards the positive range by adding the minimum. We can
do that as follows:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_positive</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">x</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, <span class="st">"x_positive"</span>, color <span class="op">=</span> <span class="st">"yellow"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-9-1.png" width="100%"></p>
<p>As we now know, this “scale-transformation” does not affect the
variable’s distribution or the shape of the relationship. But beware,
the next procedures will!</p>
<div class="section level3">
<h3 id="pull-the-right-edge-up">Pull the right edge “up”<a class="anchor" aria-label="anchor" href="#pull-the-right-edge-up"></a>
</h3>
<p>The following transformations have in common that smaller values are
inflated a lot, while larger values are less affected. You can imagine
this as tightening the x-axis, and pushing all big values on the right
towards the left, but leaving out closer values. As a result, a linear
relationship will became curved and will straighten up at the right
edge.</p>
<ul>
<li><strong>Square root</strong></li>
</ul>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_sqrt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, <span class="st">"x_sqrt"</span>, color <span class="op">=</span> <span class="st">"cyan"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-10-1.png" width="100%"></p>
<ul>
<li><strong>Cubic root</strong></li>
</ul>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_cbrt</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, <span class="st">"x_cbrt"</span>, color <span class="op">=</span> <span class="st">"purple"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-11-1.png" width="100%"></p>
<ul>
<li><strong>Logarithmic</strong></li>
</ul>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_log</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, <span class="st">"x_log"</span>, color <span class="op">=</span> <span class="st">"maroon"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-12-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="bring-the-right-edges-down">Bring the right edges “down”<a class="anchor" aria-label="anchor" href="#bring-the-right-edges-down"></a>
</h3>
<p>The following transformations have in common that the bigger a number
is, the bigger it will get. It is as if you pulled the x-axis towards
the right, ever faster for the values closer to the right edge. As a
result, the sharply vertical relationships will tend do smooth up as
they lean towards the right.</p>
<ul>
<li><strong>Exponential</strong></li>
</ul>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://easystats.github.io/datawizard/reference/normalize.html" class="external-link">normalize</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, <span class="st">"x_exp"</span>, color <span class="op">=</span> <span class="st">"purple"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-13-1.png" width="100%"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_exp3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fl">3</span> <span class="op">*</span> <span class="fu"><a href="https://easystats.github.io/datawizard/reference/normalize.html" class="external-link">normalize</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, <span class="st">"x_exp3"</span>, color <span class="op">=</span> <span class="st">"pink"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-14-1.png" width="100%"></p>
<ul>
<li><strong>Square</strong></li>
</ul>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_2</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">^</span><span class="fl">2</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, <span class="st">"x_2"</span>, color <span class="op">=</span> <span class="st">"darkblue"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-15-1.png" width="100%"></p>
<ul>
<li><strong>Cubic</strong></li>
</ul>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_3</span> <span class="op">&lt;-</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">^</span><span class="fl">3</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, <span class="st">"x_3"</span>, color <span class="op">=</span> <span class="st">"darkgreen"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-16-1.png" width="100%"></p>
<ul>
<li><strong>Reciprocal</strong></li>
</ul>
<p>Also know as the <strong>inverse</strong> transformation.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_reciprocal</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">/</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">check_transformation</span><span class="op">(</span><span class="va">data</span>, <span class="st">"x_reciprocal"</span>, color <span class="op">=</span> <span class="st">"green"</span><span class="op">)</span></span></code></pre></div>
<p><img src="transformations_files/figure-html/unnamed-chunk-17-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="generalization">Generalization<a class="anchor" aria-label="anchor" href="#generalization"></a>
</h3>
<p>Actually, all of the previous shape-transformations are part of two
categories, the exponential/log family, and the power family. Indeed,
the square root, cubic root, square and even inverse are all values to
the power of something.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span><span class="op">$</span><span class="va">x_reciprocical</span> <span class="op">==</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">)</span><span class="op">^</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">x_cbrt</span> <span class="op">==</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">x_sqrt</span> <span class="op">==</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">x_2</span> <span class="op">==</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">^</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">x_2</span> <span class="op">==</span> <span class="va">data</span><span class="op">$</span><span class="va">x_positive</span><span class="op">^</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<!-- ## Assess the Linearity -->
<!-- ```{r} -->
<!-- # check_linearity : loess - lm -->
<!-- check_linearity <- function(y, x) { -->
<!--   m <- lm(y ~ x, data = data.frame(x = x, y = y)) -->
<!--   rez <- insight::get_residuals(m) -->
<!--   ggplot(data.frame(x=x, rez = rez), aes(x = x, y = rez)) + -->
<!--     geom_point() -->
<!-- } -->
<!-- y <- data$y -->
<!-- x <- data$x -->
<!-- ggplot(data, aes(x = x, y = y)) + -->
<!--   geom_point() -->
<!-- ``` -->
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://dominiquemakowski.github.io/" class="external-link">Dominique Makowski</a>, <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>, <a href="https://home.msbstats.info/" class="external-link">Mattan S. Ben-Shachar</a>, <a href="https://sites.google.com/site/indrajeetspatilmorality/" class="external-link">Indrajeet Patil</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.9000.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
