---
title: "Case Study: Casual inference for observational data using modelbased"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Case Study: Casual inference for observational data using modelbased}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r set-options, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  dev = "png",
  out.width = "100%",
  dpi = 300,
  message = FALSE,
  warning = FALSE
)

options(modelbased_join_dots = FALSE)
options(modelbased_select = "minimal")

pkgs <- c("MatchIt", "marginaleffects")

if (!all(vapply(pkgs, requireNamespace, quietly = TRUE, FUN.VALUE = logical(1L)))) {
  knitr::opts_chunk$set(eval = FALSE)
}
if (!getRversion() >= "4.1.0") {
  knitr::opts_chunk$set(eval = FALSE)
}
```

This vignette shows an example how to make _causual inference_ with observational data, using the _modelbased_ package.

Randomized controlled trials (RCTs) are often used to estimate the average effect of a treatment or an intervention, also called _average treatmen effect_ (ATE). The ATE is the average difference in the estimated outcome between individuals from the treatment and the control group, and can be interpreted as _causal effect_.

Outside RCTs, with observational data, or when the allocation of a treatment and control group could not be randomized, estimating causal effects is more difficult.

```{r}
data(lalonde, package = "MatchIt")
```
